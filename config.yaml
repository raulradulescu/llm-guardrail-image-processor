# Default configuration for ImageGuard (Phases 1â€“4).

general:
  log_level: INFO
  max_image_size_mb: 50
  timeout_seconds: 30
  target_resolution: 1920
  normalize_format: RGB
  fail_open: true

modules:
  text_extraction:
    enabled: true
    weight: 2.0
    languages: ["eng", "fra", "deu", "spa"]
    confidence_threshold: 0.6
    pattern_path: patterns.yaml
    # Tesseract OCR executable path (null = use system PATH)
    # Windows example: C:/Program Files/Tesseract-OCR/tesseract.exe
    tesseract_cmd: null
  hidden_text:
    enabled: true
    weight: 1.5
    contrast_thresholds: [50, 100, 150, 200, 250]
    analyze_corners: true
    analyze_borders: true
    edge_density_threshold: 0.15
    edge_grid_size: 8
  frequency_analysis:
    enabled: true
    weight: 1.0
    fft_enabled: true
    fft_threshold: 0.70
    dct_enabled: true
    dct_threshold: 0.60
    wavelet_enabled: true
    wavelet_threshold: 0.50
    wavelet_type: haar
    wavelet_levels: 2
    baseline_model: data/frequency_baseline.json
  steganography:
    enabled: true
    weight: 1.0
    lsb_analysis: true
    chi_square_test: true
    rs_analysis: true
    spa_analysis: false
  structural:
    enabled: true
    weight: 1.2
    detect_qr: true
    detect_barcodes: true
    detect_screenshots: true
    analyze_decoded_content: true

scoring:
  # Classification thresholds:
  # - SAFE: score < 0.4
  # - SUSPICIOUS: 0.4 <= score < 0.6
  # - DANGEROUS: score >= 0.6
  thresholds:
    safe: 0.4
    suspicious: 0.6
    dangerous: 0.6
  calibration_data: data/calibration.json

api:
  host: 0.0.0.0
  port: 8080
  # API key authentication (set IMAGEGUARD_API_KEYS env var or list keys here)
  require_api_key: false
  api_keys: []  # Add keys here or use IMAGEGUARD_API_KEYS env var (comma-separated)
  # Rate limiting
  rate_limit_enabled: true
  rate_limit_requests: 100  # requests per window
  rate_limit_window_seconds: 60
  # CORS
  cors_origins: ["*"]
  # Metrics
  metrics_enabled: true

output:
  include_extracted_text: true
  max_text_length: 10000
